# Микросервис для обработки и отображения данных о заказах с использованием Go, PostgreSQL и Kafka.

## Функциональность
Прием заказов из Kafka топика
Сохранение в PostgreSQL
Кэширование в памяти (LRU кэш на 1000 записей)
API для получения данных о заказах
Веб-интерфейс для просмотра заказов

## Структура проекта
```text
order-service/
├──  cmd/                   # Исполняемые приложения
│   ├──  order-service/     # Основной микросервис
│   │   └── main.go         # Точка входа основного сервиса
│   └──  producer/          # Тестовый продюсер
│       └── main.go         # Точка входа продюсера
├──  internal/              # Внутренние пакеты (не для импорта)
│   ├──  cache/             # Кэширование в памяти
│   │   └── cache.go        # LRU кэш на 1000 записей
│   ├──  config/            # Конфигурация приложения
│   │   └── config.go       # Загрузка переменных окружения
│   ├──  database/          # Работа с PostgreSQL
│   │   └── postgres.go     # Подключение и запросы к БД
│   ├──  handler/           # HTTP обработчики
│   │   ├── api.go          # REST API эндпоинты
│   │   └── web.go          # Веб-интерфейс
│   ├──  kafka/             # Работа с Kafka
│   │   ├── consumer.go     # Потребитель сообщений
│   │   └── producer.go     # Отправка тестовых данных
│   ├──  model/             # Модели данных
│   │   └── order.go        # Структуры Order, Delivery, Payment, Item
│   └──  service/           # Бизнес-логика
│       └── order_service.go # Основной сервис приложения
├──  migrations/            # Миграции базы данных
│   └── 001_init_schema.up.sql # Инициализация схемы БД
├──  static/                # Статические файлы
│   ├── css/                # Стили
│   │   └── style.css       # Основные стили веб-интерфейса
│   └── js/                 # JavaScript
│       └── script.js       # Клиентские скрипты
├──  templates/             # HTML шаблоны
│   └── index.html          # Главная страница веб-интерфейса
└── scripts/                # Вспомогательные скрипты
    └── benchmark.sh        # Скрипт тестирования производительности
```
## Запуск и проверка работоспособности

```bash
# Клонирование репозитория
git clone https://github.com/pascalcheeck/order-service.git
cd order-service

# Запуск всех сервисов
make up

# Отправить тестовые заказы
make send-test-docker
```
Дальше можно смотреть эти заказы на http://localhost:8080/











